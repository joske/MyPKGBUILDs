# Maintainer: Jos Dehaes <jos.dehaes@gmail.com>

pkgname=xfce4-applemenu-plugin
pkgver=0.3.0
pkgrel=1
pkgdesc='A panel plugin for XFCE4 that mimics the macOS Apple menu, providing a familiar and intuitive system menu experience for XFCE desktop users. '
arch=('x86_64' 'aarch64')
url="https://github.com/Axis0S/xfce4-applemenu-plugin/archive/refs/heads/main.tar.gz"
makedepends=('meson' 'ninja' 'pkg-config' 'xfce4-panel' 'gtk3' 'exo' 'dbus-glib')
license=('GPL-2')
source=(
  xfce4-applemenu-plugin-${pkgver}.tar.gz::"${url}"
)
sha256sums=(SKIP)

build() {
  mv "${srcdir}/${pkgname}-main" "${srcdir}/${pkgname}-${pkgver}"
  cd "${srcdir}/$pkgname-${pkgver}"
  meson setup build --prefix=/usr
  cd build
  ninja 
}

package() {
  cd "${srcdir}/$pkgname-${pkgver}/build"
  DESTDIR="${pkgdir}" ninja install
}
